# 6월 20일

## API 개발4
- 요리 레시피 공유 앱 이어서 개발
- 레시피를 임시저장-> 공개(발행) 하는 API 만들기
- 레시피를 공개(발행됨) -> 임시저장 으로 바꾸는 API 만들기
- 레시피를 등록하거나, 수정하거나, 삭제하는 등 데이터를 바꾸는 경우에는 connection.commit()을 써줘야 하지만
- 레시피를 단순히 가져와서 보여주는 경우에는 데이터의 변화가 없기 때문에 connection.commit()를 쓰면 안된다.
  
## API 개발 실습 - 메모앱 개발해보기
### 메모 앱 API 개발하기 1
#### 개발 과정
- MySQL 워크밴치, POSTMAN, VScode 세 프로그램을 번갈아가며 실행해 만듦.
- 깃허브에 새 리포지토리를 만들어 내 컴퓨터에 클론함.
- API 등록하면서 화면 기획서를 통해 어떤 데이터가 필요한지 확인
- SQL워크밴치로 이동해 새 데이터베이스를 만들고 새 테이블을 만들어서 들어갈 데이터 내용 확인.
- POSTMAN으로 이동해 API를 임시로 만들고 테스트를 해봄.
- VScode에 기본적인 틀을 작성하고 서버에 올린뒤 실행되는지 확인
- VS코드에 필요한 코드 작성, SQL 쿼리작성
- POSTMAN에서 API를 실행해봄
- 결과를 POSTMAN 이나 MySQL 워크벤치에서 확인

#### POSTMAN의 Params
- 페이징(paging)은 어떻게 할 수 있을까?
- POSTMAN의 Params : 쿼리 파라미터 -> 여기에 페이징 정보 넣어주기
- SQL문에서 limit를 걸었을때, 이것은 컬럼의 정보가 아니기때문에 VScode에서 %s라는 변수로 치환해서 사용 할 수 없음.
- API 설계 시 Params 부분에 limit 내용을 등록해 사용함.
  - offset : 시작 
  - limit : 몇개씩 데이터를 보여주는가
- 클라이언트에게서 데이터를 받아올때 limit 부분도 받아오는 방법
   - query params는 딕셔너리로 받아옴 : 없는 키 값에 엑세스 해도 오류가 나지 않도록 딕셔너리의 get함수를 사용해서 데이터를 받아온다.
        ```
            # (예시)
            offset = request.args.get('offset')
            limit = request.args.get('limit')

        ```
### 참고) 만드는 순서
데이터 입력(저장)이 다 되면 ->
가져오기, 수정하기, 삭제하기, 친구맺기 순으로 만들어야 한다.




# 오늘의 문제점 및 해결방안
- 포스트맨에서 테스트를 할 때 url의 경로를 잘 확인해주어야 한다.
- 에러코드 401 : 경로를 잘못지정함.
- 에러코드 404 : 페이지를 찾을 수 없음 -> 나의 경우엔 스페이스바 한칸이 띄어져있어서 오류가났음.
- 함수를 실행할땐 함수명 옆에 ()가 없다면 실행되지 않아서 오류가 난다 -> 괄호 꼭 붙여주기
